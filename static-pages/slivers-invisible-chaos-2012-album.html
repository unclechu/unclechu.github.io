<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Viacheslav Lotsmanov">
	<title>SLIVERS — Невидимый Хаос</title>
	<style>
		/* general reset */
		html, body, main, footer, section, div, span, p, small, h1, h2, h3, h4,
		img, ul, ol, li, audio, source, a, strong, em, dl, dt, dd {
			margin: 0;
			padding: 0;
			border: 0;
			font-size: 100%;
			font-family: sans-serif;
			vertical-align: baseline;
		}
		body {
			line-height: 1;
			color: #92462e;
			padding: 20px;
			min-width: 600px;
			box-sizing: border-box;
			background: #020300;
			text-shadow:
				0px 0px 4px black,
				0px 0px 3px black,
				0px 0px 2px black,
				0px 0px 1px black;
		}
		.underlay {
			display: block;
			position: fixed;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			z-index: -1;
			background: url(https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/31100592f5a187fee0385aebfade55d4218814cf) no-repeat center top fixed;
			background-size: cover;
			opacity: 0.4;
		}
		main, h1, h2, p, footer, dd, dt, dd {
			line-height: 1.5em;
		}
		main, footer {
			z-index: 0;
			text-align: center;
		}
		h1 {
			font-weight: bold;
			font-size: 200%;
		}
		h2 {
			font-weight: bold;
			font-size: 120%;
			margin-top: 20px;
		}
		h1 + h2 {
			margin-top: 0;
		}
		h3 {
			font-weight: bold;
			font-size: 100%;
			margin-top: 20px;
		}
		h4 {
			display: inline;
			font-weight: normal;
			font-size: 100%;
		}
		img {
			display: inline-block;
			width: auto;
			height: auto;
			min-width: 400px;
			max-width: 100%;
			min-height: 200px;
			border: 3px solid #92462e;
			box-sizing: border-box;
			font-size: 100%;
		}
		audio {
			display: block;
			width: 100%;
		}
		p {
			margin-top: 20px;
		}
		p.info {
			width: 400px;
			margin: 20px auto 0 auto;
			text-align: left;
		}
		a {
			color: #bbb;
			text-decoration: underline;
			display: block;
			transition: color .3s ease-in-out;
		}
		a:hover, a:active {
			color: #777;
		}
		em.info {
			display: block;
			width: 400px;
			margin: 0 auto;
			text-align: left;
		}
		ul, ol {
			list-style-type: none;
			counter-reset: section;
			width: 400px;
			margin: 0 auto;
			text-align: left;
			margin-top: 20px;
			position: relative;
		}
		ul li, ol li {
			margin-top: 10px;
		}
		ol li::before, ul li::before {
			position: absolute;
			margin-left: -20px;
		}
		ol li::before {
			counter-increment: section;
			content: counters(section, "") ". ";
		}
		ul li::before {
			content: "• ";
		}
		footer {
			margin-top: 40px;
		}
		input:disabled, input:disabled + span {
			cursor: not-allowed;
		}
		input:disabled + span {
			color: #555;
		}
		dl {
			display: block;
			width: 400px;
			margin: 0 auto;
			text-align: left;
		}
		dl > dt {
			display: block;
			font-weight: bold;
			margin-top: 20px;
		}
		dl > dd {
			display: block;
			padding-left: 20px;
		}
		dl > dd > label, dl > dd > div {
			margin-top: 10px;
			display: block;
			position: relative;
		}
		dl > dd > label > input + span::before {
			content: "";
			display: block;
			cursor: pointer;
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
		}
		dl > dd > label > input:disabled + span::before {
			cursor: not-allowed;
		}
	</style>
</head>
<body>
	<div class="underlay"></div>
	<main>
		<section>
			<h1>SLIVERS — Невидимый Хаос</h1>
			<h2>LP 2012</h2>
			<p>
				<img
					alt="Фронтальная обложка альбома"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/1fdc4742982e7a25fe895db5fc448b52e0358eaa"
				>
			</p>
			<p>
				<img
					alt="Оборотная сторона обложки в коробке от компакт-диска со списком песен"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/b04d23f921fecbe118a993ee56c5a4d10b398299"
				>
			</p>
		</section>
		<section>
			<h2>Аудиозаписи</h2>
			<section>
				<h3>MP3</h3>
				<ol>
					<li>
						<h4>Мы создали ложь</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/a861d8d3de2d53d627ff73f9b89ed7bb6a17f40f" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/a861d8d3de2d53d627ff73f9b89ed7bb6a17f40f" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Фиаско</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/37d0dc3bdd097b7ceeb0b302990e4afb65aeb493" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/37d0dc3bdd097b7ceeb0b302990e4afb65aeb493" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Серое небо</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/6879ec61e3012714c18ff6f320f9cdd464ff3d3f" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/6879ec61e3012714c18ff6f320f9cdd464ff3d3f" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Настроение тишины</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/0ed518ecf3ad4abb47299562e0e28a3a39b1b696" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/0ed518ecf3ad4abb47299562e0e28a3a39b1b696" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Ухожу с приветом</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/1227ebe7a67d83bb434cd14b6a986a7bfb920a40" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/1227ebe7a67d83bb434cd14b6a986a7bfb920a40" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Пойми меня</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/bcec2de56160db8505fa3cdf811972d4c8fa3681" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/bcec2de56160db8505fa3cdf811972d4c8fa3681" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Как жаль, что мне не сделать рая</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/e6e6e1ec006c9694006f0a9a472e88abfb1eab64" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/e6e6e1ec006c9694006f0a9a472e88abfb1eab64" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Под снегом</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/50fd1317c5bbeb07ade92ba280c61c6d213b312d" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/50fd1317c5bbeb07ade92ba280c61c6d213b312d" type="audio/mpeg">
						</audio>
					</li>
					<li>
						<h4>Невидимый хаос</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/8a3bdfd399172d0dd657fc31479f1ba8dd3561bf" type="audio/mpeg">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/8a3bdfd399172d0dd657fc31479f1ba8dd3561bf" type="audio/mpeg">
						</audio>
					</li>
				</ol>
			</section>
			<section>
				<h3>FLAC</h3>
				<em class="info">
					Формат без потерь качества, более требователен
					к стабильности и пропускной способности интернет-соединения.
				</em>
				<ol>
					<li>
						<h4>Мы создали ложь</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/c4090058f7d2f5f9eb2172f447844096bd63e4aa" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/c4090058f7d2f5f9eb2172f447844096bd63e4aa" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Фиаско</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/a1fd30bdedfaf3c8989f12e1a5d9537aaa1a3608" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/a1fd30bdedfaf3c8989f12e1a5d9537aaa1a3608" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Серое небо</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/4191d26a79d0ef83ebf34bb8e998984c34877f90" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/4191d26a79d0ef83ebf34bb8e998984c34877f90" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Настроение тишины</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/97b774773008c5ba499f4b2f4c205db370d2592b" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/97b774773008c5ba499f4b2f4c205db370d2592b" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Ухожу с приветом</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/9c8e61256b5a27e1aee1c7b873eff4329f8be8c8" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/9c8e61256b5a27e1aee1c7b873eff4329f8be8c8" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Пойми меня</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/09f6b83936888fd5dc1cd4f872a3cf60777e5b45" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/09f6b83936888fd5dc1cd4f872a3cf60777e5b45" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Как жаль, что мне не сделать рая</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/c5baa62e8725dba16035f6015e197fb00677bbbe" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/c5baa62e8725dba16035f6015e197fb00677bbbe" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Под снегом</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/ee0439072d3a4b6b6a3c5c796ccf614a32a7f294" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/ee0439072d3a4b6b6a3c5c796ccf614a32a7f294" type="audio/flac">
						</audio>
					</li>
					<li>
						<h4>Невидимый хаос</h4>
						<audio controls>
							<source src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/10e8e3887e183aa338eeb280946d70785ef81681" type="audio/flac">
							<source src="https://pony.modular.im/_matrix/media/r0/download/pony.modular.im/10e8e3887e183aa338eeb280946d70785ef81681" type="audio/flac">
						</audio>
					</li>
				</ol>
			</section>
			<div id="js-checkboxes"></div>
		</section>
		<section>
			<h2>Арты для компакт-диска</h2>
			<p>
				<img
					alt="Принт на компакт-диске"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/b74c43b98eb8d2aac602466bd5d86c51fd096487"
				>
			</p>
			<p>
				<img
					alt="Развёртка первой страницы буклета со списком участников группы и людей, участвовавших в записи, сведении и мастеринге альбома"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/45b7415a33a02b209c8298e7affdc23b922bb7af"
				>
			</p>
			<p>
				<img
					alt="Развёртка второй страницы буклета с художественным изображением"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/72b5266cad7b466673835dd7bdcf97413c8be745"
				>
			</p>
			<p>
				<img
					alt="Внутренняя часть коробки от компакт-диска с фоновым изображением"
					src="https://matrix-client.matrix.org/_matrix/media/r0/download/pony.modular.im/31100592f5a187fee0385aebfade55d4218814cf"
				>
			</p>
		</section>
		<section>
			<h2>Информация</h2>
			<p class="info">
				Альтернативная рок-группа из Черкесска.
				Образована весной 2007 года.
				Вскоре после выхода этого дебютного альбома группа распалась.
				Впоследствии фронтменом Ильясом была образована другая группа под
				названием <strong>Кабирия</strong> в Ростове-на-Дону.
			</p>
		</section>
		<section>
			<h2>Ссылки</h2>
			<section>
				<h3>Скачать альбом</h3>
				<ul>
					<li>
						<a href="https://rutracker.org/forum/viewtopic.php?t=4189292">
							(Alternative rock / Grunge / Grungegaze) SLIVERS - Невидимый Хаос - 2012, FLAC (tracks), lossless :: RuTracker.org
						</a>
						Torrent
					</li>
					<li>
						<a href="https://rutracker.org/forum/viewtopic.php?t=4190651">
							(Alternative rock / Grunge / Grungegaze) SLIVERS - Невидимый Хаос - 2012, MP3, 320 kbps :: RuTracker.org
						</a>
						Torrent
					</li>
				</ul>
			</section>
			<section>
				<h3>Прочие ссылки</h3>
				<ul>
					<li>
						<a href="https://kabiria.bandcamp.com/">Кабирия on Bandcamp</a>
						Впоследствии образованная фронтменом группа
						после распада <strong>SLIVERS</strong>.
					</li>
				</ul>
			</section>
		</section>
	</main>
	<footer>
		<small lang="en">
			This page has been updated on 19 April 2020
			by Viacheslav Lotsmanov<br>
			@unclechu:matrix.org
		</small>
	</footer>
	<script>
		// Alternative domain source for images failed to load
		function imgResourceFailover(isCssBackground, el) {
			if (isCssBackground && !window.getComputedStyle) return
			var fakeImg = new Image()
			
			var src = !isCssBackground ? el.src :
				window.getComputedStyle(el)
					.getPropertyValue('background-image')
					.replace(/(^url\(|\)$)/g, '')
					.replace(/^"(.*)"$/, '$1')
				
			function onError() {
				src = src.replace(
					/\/\/matrix-client\.matrix\.org\//g,
					'//pony.modular.im/'
				)
				if (isCssBackground) el.style.backgroundImage = 'url("'+src+'")'
				else el.src = src
				done()
			}
			
			function onLoad() { done() }
			
			function done() {
				fakeImg.removeEventListener('error', onError)
				fakeImg.removeEventListener('load', onLoad)
				fakeImg.remove()
				onError = onLoad = fakeImg = undefined
			}
			
			fakeImg.addEventListener('error', onError)
			fakeImg.addEventListener('load', onLoad)
			fakeImg.src = src
		}
		
		// All <img> tags
		;[].forEach.call(document.querySelectorAll('img'), function (img) {
			imgResourceFailover(false, img)
		})
		
		// CSS background-image elements
		imgResourceFailover(true, document.querySelector('.underlay'))
	</script>
	<script type="text/template" id="js-checkboxes-template">
		<dl>
			<dt>Плейлист</dt>
			<dd>
				<label>
					<input type="checkbox" id="js-playlist">
					<span>Плейлист (воспроизводить следующий трек
					после окончания предыдущего)</span>
				</label>
				<label>
					<input type="checkbox" id="js-repeat">
					<span>Повторять плейлист по кругу</span>
				</label>
				<label>
					<input type="checkbox" id="js-reset-next-time">
					<span>Сбрасывать треки к их началу при переходе к следующему
					треку в плейлисте после окончания предыдущего</span>
				</label>
			</dd>
			<dt>Синхронизация</dt>
			<dd>
				<label>
					<input type="checkbox" id="js-sync-volume">
					<span>Общая регулировка громкости (при изменении громкости
					одного трека — остальные треки становятся той же
					громкости)</span>
				</label>
			</dd>
			<dt>Последовательность</dt>
			<dd>
				<label>
					<input type="checkbox" id="js-one-at-a-time">
					<span>Останавливать предыдущий играющий трек
					при включении другого (один играющий трек за раз)</span>
				</label>
				<label>
					<input type="checkbox" id="js-reset-switch-time">
					<span>Сбрасывать проигрывание к началу трека
					при переключении между играющими треками</span>
				</label>
			</dd>
			<dt>Настройки</dt>
			<dd>
				<label>
					<input type="checkbox" id="js-store-settings">
					<span>Сохранять настройки между перезагрузками страницы</span>
				</label>
				<div>
					<button id="js-reset-settings-to-defaults">
						Сбросить настройки к стандартным
					</button>
				</div>
			</dd>
		</dl>
	</script>
	<script>
		var allAudioTags = document.querySelectorAll('audio')
		var checkboxes = document.getElementById('js-checkboxes')
		
		checkboxes.innerHTML =
			document.getElementById('js-checkboxes-template').innerHTML
		
		var checkbox = {
			playlist: document.getElementById('js-playlist'),
			repeat: document.getElementById('js-repeat'),
			resetNextTime: document.getElementById('js-reset-next-time'),
			syncVolume: document.getElementById('js-sync-volume'),
			oneAtATime: document.getElementById('js-one-at-a-time'),
			resetSwitchTime: document.getElementById('js-reset-switch-time'),
			storeSettings: document.getElementById('js-store-settings')
		}
		
		var defaultCheckboxesState = {
			playlist: true,
			repeat: false,
			resetNextTime: true,
			syncVolume: true,
			oneAtATime: true,
			resetSwitchTime: true,
			storeSettings: true
		}
		
		var resetSettingsBtn =
			document.getElementById('js-reset-settings-to-defaults')
		
		function triggerFakeCheckboxesChangeEvent() {
			Object.values(checkbox).forEach(function (x) {
				x.dispatchEvent(new Event('change'))
			})
		}
		
		function applyCheckboxesState(state) {
			Object.keys(state).forEach(function (stateKey) {
				if (checkbox[stateKey] === undefined) return
				checkbox[stateKey].checked = state[stateKey]
			})
			
			triggerFakeCheckboxesChangeEvent()
		}
		
		resetSettingsBtn.addEventListener('click', function (e) {
			e.preventDefault()
			if (!confirm('Вы уверены что хотите сбросить настройки?')) return
			applyCheckboxesState(defaultCheckboxesState)
		})
		
		checkbox.playlist.addEventListener('change', function () {
			checkbox.repeat.disabled = !this.checked
			checkbox.resetNextTime.disabled = !this.checked
		})
		
		checkbox.oneAtATime.addEventListener('change', function () {
			if (!this.checked) return
			
			// <audio> tracks which are playing at the moment
			var playingTracks =
				[].filter.call(allAudioTags, function (x) { return !x.paused })
			
			// Stop all playing track but the first one playing
			// in case there are more than one playing tracks at the moment.
			if (playingTracks.length > 1) {
				playingTracks.shift()
				if (checkbox.oneAtATime.checked)
					playingTracks.forEach(function (x) { x.pause() })
			}
		})
		
		checkbox.oneAtATime.addEventListener('change', function () {
			checkbox.resetSwitchTime.disabled = !this.checked
		})
		
		applyCheckboxesState(defaultCheckboxesState)
		
		function savePageSettings() {
			var settings =
				!checkbox.storeSettings.checked ? { storeSettings: false } :
					Object.keys(checkbox).reduce(function (res, key) {
						res[key] = checkbox[key].checked
						return res
					}, {})
			
			window.localStorage.setItem('page-settings', JSON.stringify(settings))
		}
		
		function restorePageSettings() {
			var settings = window.localStorage.getItem('page-settings')
			if (!settings) return // Have no saved settings yet
			
			try {
				settings = JSON.parse(settings)
				if (typeof settings !== 'object')
					throw new Error('Saved page settings value is not an object')
				if (Object.keys(settings).some(function (key) {
					return typeof settings[key] !== 'boolean'
				}))
					throw new Error('Some key of saved page settings is not a boolean value')
			} catch (e) {
				// You can just save them again to fix it
				if (console && console.error) {
					console.error('Saved page settings are corrupted! Error: ', e)
					console.error('Saved page settings value is:', '"'+settings+'"')
				}
				return
			}
			
			applyCheckboxesState(settings)
		}
		
		if (window.localStorage) {
			restorePageSettings()
			Object.keys(checkbox).forEach(function (key) {
				checkbox[key].addEventListener('change', function () {
					savePageSettings()
				})
			})
		} else
			checkbox.storeSettings.closest('label').style.display = 'none'
		
		;[].forEach.call(allAudioTags, function (audio) {
			// First sibling is a text node
			var next = audio.closest('li').nextSibling
			if (next) next = next.nextSibling
			if (next) next = next.querySelector('audio')
			
			// Make audio playing work like a playlist
			// (automatically play next track when previous one has ended).
			audio.addEventListener('ended', function () {
				if (!checkbox.playlist.checked) return
				if (checkbox.resetNextTime.checked) audio.currentTime = 0
				
				if (next) {
					if (checkbox.resetNextTime.checked) next.currentTime = 0
					next.play()
				} else if (checkbox.repeat.checked) {
					var first = audio.closest('ol').querySelector('audio')
					if (checkbox.resetNextTime.checked) first.currentTime = 0
					first.play()
				}
			})
			
			audio.addEventListener('play', function () {
				// <audio> tracks which are playing at the moment
				// except current <audio> which is just started to play.
				var playingTracks =
					[].filter.call(allAudioTags, function (x) {
						return x !== audio && !x.paused
					})
				
				if (playingTracks.length > 0) {
					// Play from the beginning
					// if switching from another playing track
					if (
						checkbox.oneAtATime.checked &&
						checkbox.resetSwitchTime.checked &&
						audio.currentTime > 0
					)
						audio.currentTime = 0
					
					// Only one playing track at a time
					if (checkbox.oneAtATime.checked)
						playingTracks.forEach(function (x) { x.pause() })
				}
			})
			
			audio.addEventListener('volumechange', function () {
				if (!checkbox.syncVolume.checked) return
				
				;[].forEach.call(allAudioTags, function (x) {
					if (x === audio) return
					x.volume = audio.volume
					x.muted = audio.muted
				})
			})
		})
	</script>
</body>
</html>
<!-- TODO Add font size switcher (store this value too) -->
<!-- TODO Add big play/pause/repeat buttons at the top of playlist -->
